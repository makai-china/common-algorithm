#include <iostream>

struct BiTNode{
	char data;
	struct BiTNode *lchild, *rchild;
};

BiTNode *T;

void CreateBiTree(BiTNode* &T)
{
	char ch;
	if((ch = getchar()) == '#'){
		T = NULL;
	}  
	else{
		T = new BiTNode;
		T->data = ch;
		CreateBiTree(T->lchild);
		CreateBiTree(T->rchild);
	}
}

void PreOrder(BiTNode* &T)
{
	if(T){
		std::cout << T->data;
		PreOrder(T->lchild);
		PreOrder(T->rchild);
	}
}

void PosOrder(BiTNode* &T)
{
	if(T){
		PosOrder(T->lchild);
		PosOrder(T->rchild);
		std::cout << T->data;
	}
}

void InOrder(BiTNode* &T)
{
	if(T){
		InOrder(T->lchild);
		std::cout << T->data;
		InOrder(T->rchild);
	}
}

int main(int argc, char** argv) {
	CreateBiTree(T);
	PreOrder(T);
	std::cout << std::endl;
	PosOrder(T);
	std::cout << std::endl;
	InOrder(T);
	std::cout << std::endl;
	return 0;
}
